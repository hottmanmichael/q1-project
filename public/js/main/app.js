"use strict";!function(){function e(e){""===e.target.value?i():(window.clearTimeout(o),o=setTimeout(function(){t(e.target.value)},u))}function t(e){if(null!==e&&""!==e){var t="https://api.spotify.com/v1/search?",n="&type=artist",s="&offset=0",l="&limit=8",c="query="+e.replace(/(\s)/g,"%20"),o=t+c+s+l+n;new Ajax("GET",o,function(e,t){e?r(e):(i(),a(t))},null)}}function a(e){if(e.artists.items.length>0)for(var t=0;t<e.artists.items.length;t++)n(e.artists.items[t]);else n(null)}function n(e){var t=document.createElement("div");t.className="artist-box",t.hasArtist=!1;var a=document.createElement("h3");if(a.className="name",null===e)a.innerHTML="No artist found...";else if(t.hasArtist=!0,t.id=e.id,t.name=e.name,a.innerHTML=e.name,e.images.length>0){var n=document.createElement("img");n.className="thumbnail",n.style.backgroundColor="rgb(106, 106, 106)",n.src=e.images[0].url,n.alt=e.name,t.appendChild(n)}t.addEventListener("click",function(e){s(e,null)}),t.appendChild(a),m.appendChild(t),setTimeout(function(){t.classList.remove("fade")},10)}function i(){for(;m.children.length>0;)m.firstChild.remove()}function s(e,t){var a;if(a=0===e.target.children.length?e.target.parentElement:e.target,a.hasArtist){var n={id:a.id,name:a.name,slug:a.name.replace(/\s/g,"-").toLowerCase()};l.setLocal("CURRENT_ARTIST",n);var i="/dashboard.html",s="?"+n.slug;window.location.assign(i+s)}}function r(){}var l=new User;l.authenticated()||l.create(),l.establish(l.fetchLocal("MODEL"));var c=document.getElementById("main-artist-search"),o=window.setTimeout(t(null),0),u=250;c.addEventListener("keyup",e);var m=document.querySelector("#artist-search .digest")}();